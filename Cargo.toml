[package]
name = "daylio-analyze"
version = "0.1.0"
edition = "2021"
authors = ["Kim D. Jeker <git@kije.ch>"]


[features]
default = []
debug = ["fmt"]
fmt = ["polars/fmt"]
csv = ["polars/csv"]
avx512 = ["polars/avx512"]


[dependencies]
phf = { version = "^0.11", features = ["macros"] }
const-gen = { version = "^1.5" }
thiserror = "^1.0.48"
enum-kinds = "^0.5.1"
enum_access = { version = "^0.4.2", git = "https://github.com/kije/enum_access.git" }
# impl-enum = "^0.3.0"
# const_format = "^0.2.31"

[dependencies.polars]
version = "^0.32.1"
default-features = false
features = [
    "temporal",
    "async",
    "simd",
    "performant",
    "lazy",
    "strings",
    "cse",
    "concat_str",
    "checked_arithmetic",
    "diff",
    "ndarray",
    "list_eval",
    "sign",
    "extract_groups",
    "dtype-date",
    "dtype-datetime",
    "dtype-time",
    "dtype-i8",
    "dtype-u8",
    "dtype-i16",
    "dtype-categorical",
    "dtype-struct",
    "lazy_regex",
    "list_sets",
    "streaming",
    "polars-io",
    "is_in"
]

[build-dependencies]
phf = { version = "^0.11", default-features = false }
phf_codegen = "^0.11"
syn = { version = "^2.0", features = ["full"] }
quote = "^1.0"
proc-macro2 = "^1.0"
const-gen = { version = "^1.5" }

[profile.release]
codegen-units = 1
lto = true
opt-level = 3
strip = true

[profile.release.package."*"]
opt-level = 3
codegen-units = 1
strip = true
